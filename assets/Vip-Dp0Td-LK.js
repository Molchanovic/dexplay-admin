import{b as A,g as E,a as x}from"./vip-C6jZY5ls.js";import{M as N}from"./Template-DmSbUuup.js";import{d as B,r as c,z as T,l as k,w as n,o as v,a as o,f as d,t as f,b as r,V as M,j as _,c as F,e as z,u as m,y as $}from"./index-muHDeLuO.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{I as j}from"./search-C9OWVwnU.js";import{I as w}from"./check-DArhK-zH.js";import"./config-0fcvTnOY.js";const L={class:"modal-add-vip__content"},O={class:"modal-add-vip__title-text"},P={class:"modal-add-vip-content"},R={class:"modal-add-vip__buttons"},q=B({__name:"ModalAddVipDays",props:{active:{type:Boolean},id:{},telegramId:{},surname:{},name:{}},emits:["close","apply"],setup(U,{emit:p}){const s=c(""),u=p;function i(){s.value="",u("close")}function y(){u("apply",s.value),u("close"),s.value=""}const V=[l=>l?/^[0-9]+$/.test(l)||"Только цифры":!0],b=T(()=>s.value.length>=1);return(l,e)=>(v(),k(N,{onClose:i,active:l.active,class:"modal-add-vip"},{default:n(()=>[o("div",L,[o("div",O,[o("p",null,[e[1]||(e[1]=d(" Сколько ")),e[2]||(e[2]=o("b",null,"дней",-1)),e[3]||(e[3]=d(" vip-подписки вы хотите добавить пользователю ")),o("b",null,f(l.name+" "+l.surname),1),e[4]||(e[4]=d(" (telegramId: ")),o("b",null,f(l.telegramId),1),e[5]||(e[5]=d(")? "))])]),o("div",P,[r(M,{rules:V,modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value=a),label:"Кол-во дней",variant:"solo"},null,8,["modelValue"])])]),o("div",R,[r(_,{onClick:i},{default:n(()=>e[6]||(e[6]=[d(" Отмена ")])),_:1}),r(_,{onClick:y,readonly:!b.value},{default:n(()=>e[7]||(e[7]=[d(" Добавить ")])),_:1},8,["readonly"])])]),_:1},8,["active"]))}}),G=S(q,[["__scopeId","data-v-01b74973"]]),H={class:"page-content"},J={class:"content vip-wrapper"},K={class:"title-block"},Q=B({__name:"Vip",setup(U){const p=c(""),s=c([]),u=c(!1),i=c({}),y=[{title:"ID",key:"id"},{title:"Telegram id",key:"telegramId"},{title:"Имя",key:"name"},{title:"Фамилия",key:"surname"},{title:"Блокировка",key:"blocked"},{title:" VIP",key:"vip"},{title:"Начало",key:"subscriptionStart"},{title:"Конец",key:"subscriptionEnd"},{title:"",key:"button"}];function V(e){i.value=s.value.find(a=>a.id===e),u.value=!0}async function b(e){var a;await A((a=i.value)==null?void 0:a.id,e),l()}async function l(){const e=await E();s.value=e==null?void 0:e.users}return l(),(e,a)=>{var g,I,C,D;return v(),F("div",H,[o("section",J,[o("div",K,[r(M,{"hide-details":"",modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=t=>p.value=t),class:"search-input","max-width":"470",label:"Search",variant:"underlined"},{"append-inner":n(()=>[r(m(j))]),_:1},8,["modelValue"])]),r(z,{headers:y,items:s.value,search:p.value},{"item.blocked":n(({item:t})=>[t.blocked?(v(),k(m(w),{key:0})):$("",!0)]),"item.vip":n(({item:t})=>[t.vip?(v(),k(m(w),{key:0})):$("",!0)]),"item.subscriptionStart":n(({item:t})=>[d(f(m(x)(t==null?void 0:t.subscriptionStart)),1)]),"item.subscriptionEnd":n(({item:t})=>[d(f(m(x)(t==null?void 0:t.subscriptionEnd)),1)]),"item.button":n(({item:t})=>[r(_,{onClick:W=>V(t.id),size:"small"},{default:n(()=>a[2]||(a[2]=[d("Добавить")])),_:2},1032,["onClick"])]),_:1},8,["items","search"])]),r(G,{onApply:b,onClose:a[1]||(a[1]=t=>u.value=!1),id:(g=i.value)==null?void 0:g.id,telegramId:(I=i.value)==null?void 0:I.telegramId,surname:(C=i.value)==null?void 0:C.surname,name:(D=i.value)==null?void 0:D.name,active:u.value},null,8,["id","telegramId","surname","name","active"])])}}}),se=S(Q,[["__scopeId","data-v-320b9c9b"]]);export{se as default};
