import{c as y}from"./config-0fcvTnOY.js";import{k as w,d as V,r as _,c as b,a as h,b as c,w as x,V as I,e as B,o as U,u as C}from"./index-muHDeLuO.js";import{c as L}from"./dashboard-Bzn7p4p-.js";import{I as T}from"./search-C9OWVwnU.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";async function S(){try{const n=await y.get("/api/v1/bets/admin/rating",{headers:{Authorization:`Bearer ${w("accessToken")}`,"Content-Type":"application/json"}});return n==null?void 0:n.data}catch{return null}}const j={class:"page-content"},D={class:"content rating-wrapper"},F={class:"title-block"},N=V({__name:"Rating",setup(n){const l=_([]),r=_(""),k=[{title:"Позиция",key:"position",width:"10%"},{title:"ID",key:"userId"},{title:"Имя",key:"name"},{title:"Фамилия",key:"surname"},{title:"Процент побед",key:"winPercentage"}];async function v(){var d,u,m,p,f,g;const o=await S(),a=await L(),s=o==null?void 0:o.ratingList,t=a==null?void 0:a.users;if(s&&t){const i={};for(let e=0;e<s.length;e++)i[(d=s[e])==null?void 0:d.userId]=s[e];for(let e=0;e<t.length;e++)((u=t[e])==null?void 0:u.id)in i&&(i[(m=t[e])==null?void 0:m.id].name=(p=t[e])==null?void 0:p.name,i[(f=t[e])==null?void 0:f.id].surname=(g=t[e])==null?void 0:g.surname);l.value=Object.values(i)}}return v(),(o,a)=>(U(),b("div",j,[h("section",D,[h("div",F,[c(I,{"hide-details":"",modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=s=>r.value=s),"max-width":"470",variant:"underlined",label:"Search"},{"append-inner":x(()=>[c(C(T))]),_:1},8,["modelValue"])]),c(B,{headers:k,items:l.value,search:r.value},null,8,["items","search"])])]))}}),$=R(N,[["__scopeId","data-v-308314ff"]]);export{$ as default};
